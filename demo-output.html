

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SeaSenseLib Demo Notebook &mdash; seasenselib v0.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=20758594" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8b92e751"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Moored Instruments Demo" href="demo_mooring-output.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            seasenselib
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About SeaSenseLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Demo</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">SeaSenseLib Demo Notebook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#New-API-Features">New API Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#1.-Reading-Data-from-Different-Formats">1. Reading Data from Different Formats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#1.1-Reading-CTD-Profile-Data-(CNV-Format)">1.1 Reading CTD Profile Data (CNV Format)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#1.2-Reading-Time-Series-Data-(Moored-Instrument)">1.2 Reading Time Series Data (Moored Instrument)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#2.-Data-Exploration-and-Quality-Assessment">2. Data Exploration and Quality Assessment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#2.1-Basic-Statistics">2.1 Basic Statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#3.-Data-Conversion-and-Export">3. Data Conversion and Export</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#3.1-Verify-NetCDF-Export">3.1 Verify NetCDF Export</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#4.-Data-Visualization">4. Data Visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#4.1-Temperature-Salinity-(T-S)-Diagram">4.1 Temperature-Salinity (T-S) Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#4.2-Vertical-Profile-Plot">4.2 Vertical Profile Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#4.3-Time-Series-Plots">4.3 Time Series Plots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#5.-Further-data-tools">5. Further data tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#5.1-Data-Subsetting">5.1 Data Subsetting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#5.2-Statistical-Analysis">5.2 Statistical Analysis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Next-Steps">Next Steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Example-CLI-Commands">Example CLI Commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demo_mooring-output.html">Moored Instruments Demo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help and reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://github.com/ocean-uhh/seasenselib">GitHub Repo</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">seasenselib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">SeaSenseLib Demo Notebook</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/demo-output.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="SeaSenseLib-Demo-Notebook">
<h1>SeaSenseLib Demo Notebook<a class="headerlink" href="#SeaSenseLib-Demo-Notebook" title="Link to this heading"></a></h1>
<p>This notebook demonstrates the key capabilities of SeaSenseLib for reading, processing, and visualizing oceanographic sensor data using the <strong>modern API</strong>.</p>
<section id="Overview">
<h2>Overview<a class="headerlink" href="#Overview" title="Link to this heading"></a></h2>
<p>SeaSenseLib is a Python library for reading, converting, and plotting oceanographic sensor data from various instrument formats. It provides:</p>
<ul class="simple">
<li><p><strong>Modern API</strong> with simple <code class="docutils literal notranslate"><span class="pre">ssl.read()</span></code> and <code class="docutils literal notranslate"><span class="pre">ssl.write()</span></code> functions</p></li>
<li><p><strong>Readers</strong> for multiple formats (CNV, NetCDF, RBR, ADCP, etc.)</p></li>
<li><p><strong>Writers</strong> for data export (NetCDF, CSV, Excel)</p></li>
<li><p><strong>Plotters</strong> for oceanographic visualizations via <code class="docutils literal notranslate"><span class="pre">ssl.plot.*</span></code></p></li>
<li><p><strong>Processors</strong> for data analysis and manipulation</p></li>
</ul>
</section>
<section id="New-API-Features">
<h2>New API Features<a class="headerlink" href="#New-API-Features" title="Link to this heading"></a></h2>
<p>The modern SeaSenseLib API simplifies common tasks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seasenselib</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ssl</span>

<span class="c1"># Read any supported format</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;sensor_data.cnv&#39;</span><span class="p">)</span>

<span class="c1"># Create oceanographic plots</span>
<span class="n">ssl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;depth-profile&#39;</span><span class="p">,</span> <span class="n">profile_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CTD Profile&quot;</span><span class="p">)</span>
<span class="n">ssl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;ts-diagram&#39;</span><span class="p">,</span> <span class="n">profile_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;T-S Diagram&quot;</span><span class="p">)</span>
<span class="n">ssl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;time-series&#39;</span><span class="p">,</span> <span class="n">profile_data</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CTD Profile T-S Diagram&quot;</span><span class="p">)</span>

<span class="c1"># Export to various formats</span>
<span class="n">ssl</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;output.nc&#39;</span><span class="p">)</span>   <span class="c1"># NetCDF</span>
<span class="n">ssl</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;output.csv&#39;</span><span class="p">)</span>  <span class="c1"># CSV</span>
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>  <span class="c1"># Suppress warnings for cleaner output</span>

<span class="c1"># Import SeaSenseLib using the new modern API</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seasenselib</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ssl</span>

<span class="c1"># For processors, we still import directly since they don&#39;t have API shortcuts yet</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seasenselib.processors</span><span class="w"> </span><span class="kn">import</span> <span class="n">SubsetProcessor</span><span class="p">,</span> <span class="n">StatisticsProcessor</span>

<span class="c1"># Set up matplotlib for inline plotting</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-v0_8&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ SeaSenseLib demo environment ready!&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✓ SeaSenseLib version: </span><span class="si">{</span><span class="n">ssl</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
✓ SeaSenseLib demo environment ready!
✓ SeaSenseLib version: 0.3.0
</pre></div></div>
</div>
</section>
<section id="1.-Reading-Data-from-Different-Formats">
<h2>1. Reading Data from Different Formats<a class="headerlink" href="#1.-Reading-Data-from-Different-Formats" title="Link to this heading"></a></h2>
<p>SeaSenseLib can read data from various oceanographic instruments. Let’s start with the example data files.</p>
<section id="1.1-Reading-CTD-Profile-Data-(CNV-Format)">
<h3>1.1 Reading CTD Profile Data (CNV Format)<a class="headerlink" href="#1.1-Reading-CTD-Profile-Data-(CNV-Format)" title="Link to this heading"></a></h3>
<p>First, let’s read a vertical CTD profile from a SeaBird CNV file:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read CTD profile data using the new API</span>
<span class="n">profile_data</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;../examples/sea-practical-2023.cnv&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CTD Profile Dataset:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dimensions: </span><span class="si">{</span><span class="nb">dict</span><span class="p">(</span><span class="n">profile_data</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data variables: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Coordinates: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">profile_data</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data shape: </span><span class="si">{</span><span class="n">profile_data</span><span class="o">.</span><span class="n">sizes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO:pycnv: Opening file: ../examples/sea-practical-2023.cnv
WARNING:pycnv:Could not parse custom header ** 20230512
WARNING:pycnv:Could not parse custom header ** Messpraktikum 2023
WARNING:pycnv:Could not parse custom header ** CTD 12.05 D1
WARNING:pycnv:Could not parse custom header ** NMEA Latitude = 53 29.81 N
WARNING:pycnv:Could not parse custom header ** NMEA Longitude = 008 10.89 E
WARNING:pycnv:Could not compute datetime dates based on timeM
WARNING:pycnv:Could not compute datetime dates based on timeS
INFO:pycnv:Dates computed based on start_date and time_interval
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Date
Computing date
CTD Profile Dataset:
Dimensions: {&#39;time&#39;: 358}
Data variables: [&#39;conductivity&#39;, &#39;depth&#39;, &#39;flag&#39;, &#39;fluorescence&#39;, &#39;julian_days_offset&#39;, &#39;oxygen_1&#39;, &#39;oxygen_2&#39;, &#39;oxygen_3&#39;, &#39;pressure&#39;, &#39;salinity&#39;, &#39;temperature&#39;, &#39;turbidity&#39;, &#39;density&#39;, &#39;potential_temperature&#39;]
Coordinates: [&#39;latitude&#39;, &#39;longitude&#39;, &#39;time&#39;]

Data shape: Frozen({&#39;time&#39;: 358})
</pre></div></div>
</div>
</section>
<section id="1.2-Reading-Time-Series-Data-(Moored-Instrument)">
<h3>1.2 Reading Time Series Data (Moored Instrument)<a class="headerlink" href="#1.2-Reading-Time-Series-Data-(Moored-Instrument)" title="Link to this heading"></a></h3>
<p>Now let’s read time series data from a moored instrument:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read time series data from moored instrument using the new API</span>
<span class="n">timeseries_data</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;../examples/denmark-strait-ds-m1-17.cnv&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time Series Dataset:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dimensions: </span><span class="si">{</span><span class="nb">dict</span><span class="p">(</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data variables: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Time range: </span><span class="si">{</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duration: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="p">)</span><span class="si">}</span><span class="s2"> measurements&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO:pycnv: Opening file: ../examples/denmark-strait-ds-m1-17.cnv
WARNING:pycnv:Could not compute datetime dates based on timeM
WARNING:pycnv:Could not compute datetime dates based on timeS
INFO:pycnv:Dates computed based on start_date and time_interval
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Date
Computing date
Time Series Dataset:
Dimensions: {&#39;time&#39;: 59088}
Data variables: [&#39;conductivity&#39;, &#39;flag&#39;, &#39;julian_days_offset&#39;, &#39;pressure&#39;, &#39;salinity&#39;, &#39;scan&#39;, &#39;temperature&#39;, &#39;depth&#39;, &#39;density&#39;, &#39;potential_temperature&#39;]
Time range: 2017-09-12T09:40:29.000000000 to 2017-09-19T05:48:19.000000000
Duration: 59088 measurements
</pre></div></div>
</div>
</section>
</section>
<section id="2.-Data-Exploration-and-Quality-Assessment">
<h2>2. Data Exploration and Quality Assessment<a class="headerlink" href="#2.-Data-Exploration-and-Quality-Assessment" title="Link to this heading"></a></h2>
<p>Let’s explore the data structure and assess data quality:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display detailed information about the profile dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== CTD Profile Data Details ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">profile_data</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Available Parameters and Units ===&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="n">profile_data</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span>
    <span class="n">units</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;units&#39;</span><span class="p">,</span> <span class="s1">&#39;no units&#39;</span><span class="p">)</span>
    <span class="n">long_name</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;long_name&#39;</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">long_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=== CTD Profile Data Details ===
&lt;xarray.Dataset&gt; Size: 43kB
Dimensions:                (time: 358)
Coordinates:
  * time                   (time) datetime64[ns] 3kB 2023-05-12T10:15:11 ... ...
    latitude               float64 8B 53.5
    longitude              float64 8B 8.181
Data variables: (12/14)
    conductivity           (time) float64 3kB 34.62 34.62 34.62 ... 35.01 35.01
    depth                  (time) float64 3kB 0.255 0.298 0.34 ... 11.92 11.93
    flag                   (time) float64 3kB 0.0 0.0 ... -9.99e-29 -9.99e-29
    fluorescence           (time) float64 3kB 5.652 5.64 5.62 ... 8.64 8.64
    julian_days_offset     (time) float64 3kB 132.4 132.4 132.4 ... 132.4 132.4
    oxygen_1               (time) float64 3kB 265.6 265.6 265.6 ... 265.9 265.9
    ...                     ...
    pressure               (time) float64 3kB 0.257 0.301 0.343 ... 12.03 12.04
    salinity               (time) float64 3kB 28.45 28.45 28.45 ... 28.96 28.96
    temperature            (time) float64 3kB 13.76 13.76 13.76 ... 13.54 13.54
    turbidity              (time) float64 3kB 20.29 20.29 20.26 ... 50.95 51.08
    density                (time) float64 3kB 1.021e+03 1.021e+03 ... 1.022e+03
    potential_temperature  (time) float64 3kB 13.76 13.76 13.76 ... 13.54 13.54
Attributes: (12/23)
    latitude:                   53.496833333333335
    longitude:                  8.1815
    CreateTime:                 2025-11-26T07:57:37
    DataType:                   TimeSeries
    cnv_sbe_model:              SBE 19plus
    cnv_software_version:       2.6.1.12
    ...                         ...
    processor_name:             seasenselib
    processor_version:          0.2.0
    processor_reader_class:     SbeCnvReader
    processor_python_version:   3.13.9
    processor_input_filename:   ../examples/sea-practical-2023.cnv
    processor_input_file_type:  SeaBird CNV

=== Available Parameters and Units ===
conductivity: Conductivity (mS/cm)
depth: Depth (salt water, m)
flag: flag (no units)
fluorescence: fluorescence (mg/m^3)
julian_days_offset: julian_days_offset (no units)
oxygen_1: Oxygen (umol/kg)
oxygen_2: Oxygen (umol/kg)
oxygen_3: Oxygen (% saturation)
pressure: Pressure (db)
salinity: Salinity (PSU)
temperature: Temperature (ITS-90, deg C)
turbidity: Turbidity (NTU)
density: Density (kg m-3)
potential_temperature: Potential Temperature θ (degC)
</pre></div></div>
</div>
<section id="2.1-Basic-Statistics">
<h3>2.1 Basic Statistics<a class="headerlink" href="#2.1-Basic-Statistics" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate basic statistics for profile data</span>
<span class="n">available_params</span> <span class="o">=</span> <span class="p">[</span><span class="n">var</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span> <span class="k">if</span> <span class="n">var</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;salinity&#39;</span><span class="p">,</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;oxygen&#39;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== CTD Profile Statistics ===&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">available_params</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">stats_processor</span> <span class="o">=</span> <span class="n">StatisticsProcessor</span><span class="p">(</span><span class="n">profile_data</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">stats_processor</span><span class="o">.</span><span class="n">get_all_statistics</span><span class="p">()</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">param</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Mean: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Std:  </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Min:  </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Max:  </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Valid points: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;count_valid&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">param</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2">: Not available in dataset&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=== CTD Profile Statistics ===

Pressure:
  Mean: 6.303
  Std:  3.491
  Min:  0.257
  Max:  12.037
  Valid points: 358

Salinity:
  Mean: 28.700
  Std:  0.175
  Min:  28.370
  Max:  28.974
  Valid points: 358

Temperature:
  Mean: 13.544
  Std:  0.108
  Min:  13.419
  Max:  13.900
  Valid points: 358
</pre></div></div>
</div>
</section>
</section>
<section id="3.-Data-Conversion-and-Export">
<h2>3. Data Conversion and Export<a class="headerlink" href="#3.-Data-Conversion-and-Export" title="Link to this heading"></a></h2>
<p>SeaSenseLib can export data to various formats while preserving metadata and following CF conventions:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convert CNV to NetCDF and CSV using the new API</span>
<span class="c1"># First, clean up complex attributes that can&#39;t be serialized to NetCDF</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">copy</span>
<span class="n">clean_profile_data</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">profile_data</span><span class="p">)</span>

<span class="c1"># Remove or convert complex attributes</span>
<span class="k">for</span> <span class="n">attr_name</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">clean_profile_data</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
    <span class="n">attr_value</span> <span class="o">=</span> <span class="n">clean_profile_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr_value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="c1"># Convert dict to string representation</span>
        <span class="n">clean_profile_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr_value</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
        <span class="c1"># Remove any other complex types</span>
        <span class="k">del</span> <span class="n">clean_profile_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>

<span class="c1"># Also clean variable attributes</span>
<span class="k">for</span> <span class="n">var_name</span> <span class="ow">in</span> <span class="n">clean_profile_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">attr_name</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">clean_profile_data</span><span class="p">[</span><span class="n">var_name</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="n">attr_value</span> <span class="o">=</span> <span class="n">clean_profile_data</span><span class="p">[</span><span class="n">var_name</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr_value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">clean_profile_data</span><span class="p">[</span><span class="n">var_name</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr_value</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
            <span class="k">del</span> <span class="n">clean_profile_data</span><span class="p">[</span><span class="n">var_name</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>

<span class="c1"># Export using the new API</span>
<span class="n">ssl</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">clean_profile_data</span><span class="p">,</span> <span class="s1">&#39;demo_output_profile.nc&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ Exported to NetCDF: demo_output_profile.nc&quot;</span><span class="p">)</span>

<span class="n">ssl</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">profile_data</span><span class="p">,</span> <span class="s1">&#39;demo_output_profile.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ Exported to CSV: demo_output_profile.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
✓ Exported to NetCDF: demo_output_profile.nc
✓ Exported to CSV: demo_output_profile.csv
</pre></div></div>
</div>
<section id="3.1-Verify-NetCDF-Export">
<h3>3.1 Verify NetCDF Export<a class="headerlink" href="#3.1-Verify-NetCDF-Export" title="Link to this heading"></a></h3>
<p>Let’s read back the NetCDF file to verify the export worked correctly:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read back the exported NetCDF file using the new API</span>
<span class="n">netcdf_data</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;demo_output_profile.nc&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exported NetCDF file structure:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dimensions: </span><span class="si">{</span><span class="nb">dict</span><span class="p">(</span><span class="n">netcdf_data</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Variables: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">netcdf_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data preserved: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">netcdf_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span><span class="si">}</span><span class="s2"> variables exported successfully&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✓ NetCDF export/import successful!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Exported NetCDF file structure:
Dimensions: {&#39;time&#39;: 358}
Variables: [&#39;conductivity&#39;, &#39;depth&#39;, &#39;flag&#39;, &#39;fluorescence&#39;, &#39;julian_days_offset&#39;, &#39;oxygen_1&#39;, &#39;oxygen_2&#39;, &#39;oxygen_3&#39;, &#39;pressure&#39;, &#39;salinity&#39;, &#39;temperature&#39;, &#39;turbidity&#39;, &#39;density&#39;, &#39;potential_temperature&#39;]
Data preserved: 14 variables exported successfully

✓ NetCDF export/import successful!
</pre></div></div>
</div>
</section>
</section>
<section id="4.-Data-Visualization">
<h2>4. Data Visualization<a class="headerlink" href="#4.-Data-Visualization" title="Link to this heading"></a></h2>
<p>SeaSenseLib provides specialized plotting tools for oceanographic data visualization:</p>
<section id="4.1-Temperature-Salinity-(T-S)-Diagram">
<h3>4.1 Temperature-Salinity (T-S) Diagram<a class="headerlink" href="#4.1-Temperature-Salinity-(T-S)-Diagram" title="Link to this heading"></a></h3>
<p>T-S diagrams show the relationship between temperature and salinity with density isolines:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create T-S diagram using the new API</span>
<span class="k">if</span> <span class="s1">&#39;temperature&#39;</span> <span class="ow">in</span> <span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span> <span class="ow">and</span> <span class="s1">&#39;salinity&#39;</span> <span class="ow">in</span> <span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="n">ssl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;ts-diagram&#39;</span><span class="p">,</span> <span class="n">profile_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CTD Profile T-S Diagram&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ T-S diagram created&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature and/or salinity not available for T-S diagram&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_17_0.png" src="_images/demo-output_17_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
✓ T-S diagram created
</pre></div></div>
</div>
</section>
<section id="4.2-Vertical-Profile-Plot">
<h3>4.2 Vertical Profile Plot<a class="headerlink" href="#4.2-Vertical-Profile-Plot" title="Link to this heading"></a></h3>
<p>Display the CTD cast as a vertical profile showing how parameters change with depth:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create vertical profile plot using the new API</span>
<span class="n">ssl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;depth-profile&#39;</span><span class="p">,</span> <span class="n">profile_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CTD Profile&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ Vertical profile plot created&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_19_0.png" src="_images/demo-output_19_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
✓ Vertical profile plot created
</pre></div></div>
</div>
</section>
<section id="4.3-Time-Series-Plots">
<h3>4.3 Time Series Plots<a class="headerlink" href="#4.3-Time-Series-Plots" title="Link to this heading"></a></h3>
<p>For the moored instrument data, let’s create time series plots:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Single parameter time series - using direct plotter since API has a bug</span>
<span class="k">if</span> <span class="s1">&#39;temperature&#39;</span> <span class="ow">in</span> <span class="n">timeseries_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="n">ssl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;time-series&#39;</span><span class="p">,</span> <span class="n">profile_data</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CTD Profile T-S Diagram&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ Temperature time series created&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature data not available for time series&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_21_0.png" src="_images/demo-output_21_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
✓ Temperature time series created
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Multi-parameter time series - using direct plotter</span>
<span class="n">available_ts_params</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;salinity&#39;</span><span class="p">,</span> <span class="s1">&#39;pressure&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">timeseries_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">]</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">available_ts_params</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">ssl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;time-series&#39;</span><span class="p">,</span> <span class="n">profile_data</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="n">available_ts_params</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CTD Profile T-S Diagram&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✓ Multi-parameter time series created for: </span><span class="si">{</span><span class="n">available_ts_params</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Insufficient parameters for multi-plot. Available: </span><span class="si">{</span><span class="n">available_ts_params</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_22_0.png" src="_images/demo-output_22_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
✓ Multi-parameter time series created for: [&#39;temperature&#39;, &#39;salinity&#39;]
</pre></div></div>
</div>
</section>
</section>
<section id="5.-Further-data-tools">
<h2>5. Further data tools<a class="headerlink" href="#5.-Further-data-tools" title="Link to this heading"></a></h2>
<p>SeaSenseLib provides basic tools for subsetting and statistics:</p>
<section id="5.1-Data-Subsetting">
<h3>5.1 Data Subsetting<a class="headerlink" href="#5.1-Data-Subsetting" title="Link to this heading"></a></h3>
<p>Extract specific depth ranges or time periods:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Subset profile data by depth (if pressure/depth data available)</span>
<span class="n">subset_processor</span> <span class="o">=</span> <span class="n">SubsetProcessor</span><span class="p">(</span><span class="n">profile_data</span><span class="p">)</span>

<span class="k">if</span> <span class="s1">&#39;pressure&#39;</span> <span class="ow">in</span> <span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="c1"># Subset to upper 50 dbar (approximately 50 meters)</span>
    <span class="n">shallow_data</span> <span class="o">=</span> <span class="n">subset_processor</span><span class="o">.</span><span class="n">set_parameter_name</span><span class="p">(</span><span class="s1">&#39;pressure&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_parameter_value_min</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">set_parameter_value_max</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">get_subset</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Original data points: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">profile_data</span><span class="o">.</span><span class="n">pressure</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shallow subset (0-50 dbar): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">shallow_data</span><span class="o">.</span><span class="n">pressure</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pressure range in subset: </span><span class="si">{</span><span class="n">shallow_data</span><span class="o">.</span><span class="n">pressure</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">shallow_data</span><span class="o">.</span><span class="n">pressure</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dbar&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pressure data not available for depth subsetting&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Original data points: 358
Shallow subset (0-50 dbar): 358
Pressure range in subset: 0.3 - 12.0 dbar
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="c1"># Subset time series data by time period</span>
<span class="k">if</span> <span class="s1">&#39;time&#39;</span> <span class="ow">in</span> <span class="n">timeseries_data</span><span class="o">.</span><span class="n">coords</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
    <span class="n">ts_subset_processor</span> <span class="o">=</span> <span class="n">SubsetProcessor</span><span class="p">(</span><span class="n">timeseries_data</span><span class="p">)</span>
    <span class="c1"># Get the first half of the time series</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">mid_time</span> <span class="o">=</span> <span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">first_half</span> <span class="o">=</span> <span class="n">ts_subset_processor</span><span class="o">.</span><span class="n">set_time_min</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">start_time</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">.</span><span class="n">set_time_max</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">mid_time</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">.</span><span class="n">get_subset</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Original time series length: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">timeseries_data</span><span class="o">.</span><span class="n">time</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;First half subset length: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">first_half</span><span class="o">.</span><span class="n">time</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Time range in subset: </span><span class="si">{</span><span class="n">first_half</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">first_half</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time data not suitable for subsetting&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Original time series length: 59088
First half subset length: 29545
Time range in subset: 2017-09-12T09:40:29.000000000 to 2017-09-15T19:44:29.000000000
</pre></div></div>
</div>
</section>
<section id="5.2-Statistical-Analysis">
<h3>5.2 Statistical Analysis<a class="headerlink" href="#5.2-Statistical-Analysis" title="Link to this heading"></a></h3>
<p>Calculate statistics for the datasets:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compare statistics between full profile and shallow subset</span>
<span class="k">if</span> <span class="s1">&#39;pressure&#39;</span> <span class="ow">in</span> <span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span> <span class="ow">and</span> <span class="s1">&#39;temperature&#39;</span> <span class="ow">in</span> <span class="n">profile_data</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="n">full_temp_processor</span> <span class="o">=</span> <span class="n">StatisticsProcessor</span><span class="p">(</span><span class="n">profile_data</span><span class="p">,</span> <span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
    <span class="n">full_stats</span> <span class="o">=</span> <span class="n">full_temp_processor</span><span class="o">.</span><span class="n">get_all_statistics</span><span class="p">()</span>

    <span class="n">shallow_temp_processor</span> <span class="o">=</span> <span class="n">StatisticsProcessor</span><span class="p">(</span><span class="n">shallow_data</span><span class="p">,</span> <span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
    <span class="n">shallow_stats</span> <span class="o">=</span> <span class="n">shallow_temp_processor</span><span class="o">.</span><span class="n">get_all_statistics</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Temperature Statistics Comparison ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Full profile - Mean: </span><span class="si">{</span><span class="n">full_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">°C, Range: </span><span class="si">{</span><span class="n">full_stats</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">full_stats</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">°C&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shallow (0-50m) - Mean: </span><span class="si">{</span><span class="n">shallow_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">°C, Range: </span><span class="si">{</span><span class="n">shallow_stats</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">shallow_stats</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">°C&quot;</span><span class="p">)</span>

    <span class="n">temp_diff</span> <span class="o">=</span> <span class="n">shallow_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">full_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Temperature difference (shallow - full): </span><span class="si">{</span><span class="n">temp_diff</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">°C&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">temp_diff</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;→ Shallow waters are warmer (typical thermocline pattern)&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;→ Shallow waters are cooler&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=== Temperature Statistics Comparison ===
Full profile - Mean: 13.544°C, Range: 13.419 - 13.900°C
Shallow (0-50m) - Mean: 13.544°C, Range: 13.419 - 13.900°C

Temperature difference (shallow - full): 0.000°C
→ Shallow waters are cooler
</pre></div></div>
</div>
</section>
</section>
<section id="Next-Steps">
<h2>Next Steps<a class="headerlink" href="#Next-Steps" title="Link to this heading"></a></h2>
<p>To learn more about SeaSenseLib:</p>
<ol class="arabic simple">
<li><p><strong>Documentation</strong>: Check the full documentation for detailed API reference</p></li>
<li><p><strong>CLI Usage</strong>: Try the command-line interface with <code class="docutils literal notranslate"><span class="pre">seasenselib</span> <span class="pre">--help</span></code></p></li>
<li><p><strong>More Formats</strong>: Explore support for RBR, ADCP, and other instrument formats (see the Moored Instruments demo)</p></li>
<li><p><strong>Custom Processing</strong>: Implement custom readers and processors for your specific needs</p></li>
<li><p><strong>Integration</strong>: Integrate SeaSenseLib into your oceanographic data processing workflows</p></li>
</ol>
<section id="Example-CLI-Commands">
<h3>Example CLI Commands<a class="headerlink" href="#Example-CLI-Commands" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># List supported formats</span>
seasenselib<span class="w"> </span>formats

<span class="c1"># Convert CNV to NetCDF</span>
seasenselib<span class="w"> </span>convert<span class="w"> </span>-i<span class="w"> </span>examples/sea-practical-2023.cnv<span class="w"> </span>-o<span class="w"> </span>output.nc

<span class="c1"># Create plots</span>
seasenselib<span class="w"> </span>plot<span class="w"> </span>ts-diagram<span class="w"> </span>-i<span class="w"> </span>output.nc<span class="w"> </span>-o<span class="w"> </span>ts_diagram.png
seasenselib<span class="w"> </span>plot<span class="w"> </span>depth-profile<span class="w"> </span>-i<span class="w"> </span>output.nc<span class="w"> </span>-o<span class="w"> </span>profile.png
seasenselib<span class="w"> </span>plot<span class="w"> </span>time-series<span class="w"> </span>-i<span class="w"> </span>examples/denmark-strait-ds-m1-17.cnv<span class="w"> </span>-p<span class="w"> </span>temperature
</pre></div>
</div>
<p>Happy oceanographic data processing! 🌊</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="demo_mooring-output.html" class="btn btn-neutral float-right" title="Moored Instruments Demo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Yves Sorge.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>